<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Vers√≠culo do Dia: Receba diariamente inspira√ß√£o b√≠blica para sua vida. Explore passagens b√≠blicas e mensagens edificantes.">
    <meta name="keywords" content="B√≠blia, Vers√≠culo do Dia, Inspira√ß√£o, Mensagens B√≠blicas, F√©, Crist√£o">
    <meta name="author" content="Vers√≠culo do Dia">
    <title>Vers√≠culo do Dia</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="icon" href="src/imgs/logo.png" type="image/png">
    <link rel="stylesheet" href="src/styles/style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
            <a class="navbar-brand d-flex align-items-center" href="#">
                <img src="src/imgs/logo.png" alt="Logo" style="width: 40px; height: 40px; margin-right: 10px;">
                <span style="font-family: 'Times New Roman', Times, serif;">VERS√çCULO DO DIA</span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link btn btn-warning text-white px-3 py-2" href="doacao.html" style="font-weight: bold;">Fa√ßa sua oferta</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main content with Sidebar -->
    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar -->
            <nav id="sidebar" class="col-md-3 col-lg-2 d-md-block bg-light sidebar">
                <div class="position-sticky">
                    <h3>Menu</h3>
                    <ul class="nav flex-column">
                        <li class="nav-item"><a href="#" class="nav-link">Antigo Testamento</a></li>
                        <li class="nav-item"><a href="#" class="nav-link">Novo Testamento</a></li>
                        <li class="nav-item"><a href="#" class="nav-link">Vers√≠culos</a></li>
                        <li class="nav-item"><a href="#" class="nav-link">Inspira√ß√£o Di√°ria</a></li>
                        <li class="nav-item"><a href="#" class="nav-link">Mais</a></li>
                    </ul>
                </div>
            </nav>

            <!-- Main Content -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-4" style="min-height: 80vh;">
                <h2>Vers√≠culo do Dia</h2>
                <p>Diariamente um vers√≠culo ou passagem b√≠blica para melhorar e inspirar o seu dia.</p>

                <div id="main-content" class="d-flex justify-content-between align-items-start">
                    <!-- Container do Vers√≠culo -->
                    <div id="verse-box" class="me-3">
                        <h3>Vers√≠culo de Hoje</h3>
                        <p id="date"></p>
                        <p id="verse-text">Carregando vers√≠culo...</p>
                        <p id="verse-reference"></p>

                        <p class="mt-4">Gostou do vers√≠culo do dia?</p>

                        <p>Compartilhe e nos ajude a espalhar a palavra de Deus:</p>
                        <div class="d-flex gap-2 mb-3">
                            <a id="share-facebook" href="#" class="btn btn-outline-primary btn-sm" target="_blank">
                                <i class="fab fa-facebook-f"></i>
                            </a>
                            <a id="share-twitter" href="#" class="btn btn-outline-info btn-sm" target="_blank">
                                <i class="fab fa-twitter"></i>
                            </a>
                            <a id="share-whatsapp" href="#" class="btn btn-outline-success btn-sm" target="_blank">
                                <i class="fab fa-whatsapp"></i>
                            </a>
                        </div>

                        <p>Avalie o vers√≠culo:</p>
                        <div class="d-flex gap-2">
                            <button id="like-button" class="btn btn-success">
                                <i class="fas fa-thumbs-up"></i> Gostei
                            </button>
                            <button id="dislike-button" class="btn btn-danger">
                                <i class="fas fa-thumbs-down"></i> N√£o Gostei
                            </button>
                        </div>
                    </div>

                    <!-- Container de Inscri√ß√£o -->
                    <div id="email-container">
                        <h4>Receba o vers√≠culo di√°rio no seu e-mail!</h4>
                        <form>
                            <input type="email" placeholder="Digite seu e-mail" required>
                            <button type="submit" class="btn btn-primary mt-2">Inscrever-se</button>
                        </form>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Popup de Doa√ß√£o -->
    <div id="donation-popup" class="popup">
        <p>üíõ <strong>Ajude a espalhar a palavra de Deus!</strong><br>
           Sua doa√ß√£o nos ajuda a levar f√©, amor e inspira√ß√£o para milhares de pessoas. 
           <strong>Contribua agora e fa√ßa parte desta miss√£o!</strong> 
        </p>
        <div class="d-flex justify-content-between align-items-center">
            <button id="close-popup" class="btn btn-sm btn-danger">Fechar</button>
            <a href="doacao.html" class="btn btn-doacao btn-sm">Contribuir agora</a>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-light py-4 mt-4">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h4>B√≠blia Sagrada Online</h4>
                    <ul class="list-unstyled">
                        <li><a href="#">Vers√≠culos</a></li>
                        <li><a href="#">10 Mandamentos</a></li>
                        <li><a href="#">Estudos B√≠blicos</a></li>
                        <li><a href="#">Devocional Di√°rio</a></li>
                    </ul>
                </div>
                <div class="col-md-6 text-end">
                    <p>¬© 2025 Vers√≠culo do Dia - Todos os direitos reservados.</p>
                    <div class="social-media">
                        <a href="#">Facebook</a> |
                        <a href="#">Instagram</a> |
                        <a href="#">YouTube</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script src="src/js/script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const apiUrl = "https://raw.githubusercontent.com/thiagobodruk/biblia/refs/heads/master/json/nvi.json";
            const dateElement = document.getElementById("date");
            const verseTextElement = document.getElementById("verse-text");
            const verseReferenceElement = document.getElementById("verse-reference");
    
            // Atualizar data
            const today = new Date();
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            const formattedDate = today.toLocaleDateString("pt-BR", options);
            dateElement.textContent = formattedDate;
    
            // Verificar se o vers√≠culo do dia j√° est√° armazenado
            const storedData = JSON.parse(localStorage.getItem("verseOfTheDay"));
            const storedDate = storedData?.date;
            const isSameDay = storedDate === formattedDate;
    
            if (isSameDay) {
                // Usar vers√≠culo armazenado
                const { verse, reference } = storedData;
                verseTextElement.textContent = verse;
                verseReferenceElement.innerHTML = `<span class="verse-reference">${reference}</span>`;
            } else {
                // Buscar novo vers√≠culo e armazenar
                fetch(apiUrl)
                    .then(response => response.json())
                    .then(data => {
                        const bookIndex = Math.floor(Math.random() * data.length);
                        const book = data[bookIndex];
                        const chapterIndex = Math.floor(Math.random() * book.chapters.length);
                        const chapter = book.chapters[chapterIndex];
                        const verseIndex = Math.floor(Math.random() * chapter.length);
                        const verse = chapter[verseIndex];
                        const reference = `${book.name} ${chapterIndex + 1}:${verseIndex + 1}`;
    
                        // Atualizar a p√°gina
                        verseTextElement.textContent = verse;
                        verseReferenceElement.innerHTML = `<span class="verse-reference">${reference}</span>`;
                        // Salvar no localStorage
                        localStorage.setItem(
                            "verseOfTheDay",
                            JSON.stringify({ date: formattedDate, verse, reference })
                        );
                    })
                    .catch(error => {
                        verseTextElement.textContent = "Erro ao carregar o vers√≠culo.";
                        console.error("Erro ao buscar dados da API:", error);
                    });
            }
    
            // Fun√ß√£o para gerar o link de compartilhamento
            function gerarMensagemVersiculo() {
                const verseText = verseTextElement.textContent;
                const verseReference = verseReferenceElement.innerText;
                const dataHoje = formattedDate;
    
                // Formata√ß√£o da mensagem com Markdown para negrito
                const mensagem = `üïä VERS√çCULO DE HOJE\nüóì *${dataHoje}*\n\n"*${verseText}*"\n\n*${verseReference}*\n\nüåê Acesse o site para mais: http://127.0.0.1:5500/src/index.html`;
    
                const linkWhatsApp = `https://api.whatsapp.com/send?text=${encodeURIComponent(mensagem)}`;
                const linkFacebook = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}&quote=${encodeURIComponent(mensagem)}`;
                const linkTwitter = `https://twitter.com/intent/tweet?text=${encodeURIComponent(mensagem)}&url=${encodeURIComponent(window.location.href)}&hashtags=F√©,B√≠blia`;
    
                // Atualizando os links de compartilhamento
                document.getElementById('share-whatsapp').href = linkWhatsApp;
                document.getElementById('share-facebook').href = linkFacebook;
                document.getElementById('share-twitter').href = linkTwitter;
            }
    
            // Chama a fun√ß√£o para gerar os links ao carregar a p√°gina
            gerarMensagemVersiculo();
        });
    </script> 

    <script>
        // Mostrar o popup ao carregar a p√°gina
        window.addEventListener('load', () => {
            const popup = document.getElementById('donation-popup');
            popup.classList.add('show');
        });

        // Fechar o popup ao clicar no bot√£o
        document.getElementById('close-popup').addEventListener('click', () => {
            const popup = document.getElementById('donation-popup');
            popup.classList.remove('show');
        });
    </script>
</body>
</html>
