<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Vers√≠culo do Dia: Receba diariamente inspira√ß√£o b√≠blica para sua vida. Explore passagens b√≠blicas e mensagens edificantes.">
    <meta name="keywords" content="B√≠blia, Vers√≠culo do Dia, Inspira√ß√£o, Mensagens B√≠blicas, F√©, Crist√£o">
    <meta name="author" content="Vers√≠culo do Dia">
    <title>Vers√≠culo do Dia</title>
    <!-- SEO Avan√ßado: Open Graph e Twitter Cards -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Vers√≠culo do Dia">
    <meta property="og:description" content="Receba diariamente inspira√ß√£o b√≠blica para sua vida. Explore passagens b√≠blicas e mensagens edificantes.">
    <meta property="og:image" content="src/imgs/logo.png">
    <meta property="og:url" content="https://gabriel-rocha.github.io/versiculo-do-dia/">
    <meta property="og:site_name" content="Vers√≠culo do Dia">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Vers√≠culo do Dia">
    <meta name="twitter:description" content="Receba diariamente inspira√ß√£o b√≠blica para sua vida. Explore passagens b√≠blicas e mensagens edificantes.">
    <meta name="twitter:image" content="src/imgs/logo.png">
    <meta name="twitter:site" content="@bibliaon.oficial">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="icon" href="src/imgs/logo.png" type="image/png">
    <link rel="stylesheet" href="src/styles/style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light" role="navigation" aria-label="Menu principal">
        <div class="container-fluid">
            <a class="navbar-brand d-flex align-items-center" href="#" aria-label="P√°gina inicial">
                <img src="src/imgs/logo.png" alt="Logo Vers√≠culo do Dia" style="width: 40px; height: 40px; margin-right: 10px;">
                <span style="font-family: 'Times New Roman', Times, serif;">VERS√çCULO DO DIA</span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Abrir menu de navega√ß√£o">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link btn btn-warning text-white px-3 py-2" href="doacao.html"
                            style="font-weight: bold;">Fa√ßa sua oferta</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main content with Sidebar -->
    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar -->
            <nav id="sidebar" class="col-md-3 col-lg-2 d-md-block bg-light sidebar" aria-label="Menu lateral">
                <div class="position-sticky">
                    <h3>Menu</h3>
                    <ul class="nav flex-column">
                        <li class="nav-item"><a href="index.html" class="nav-link">In√≠cio</a></li>
                        <li class="nav-item"><a href="antigo-testamento.html" class="nav-link">Antigo Testamento</a></li>
                        <li class="nav-item"><a href="novo-testamento.html" class="nav-link">Novo Testamento</a></li>
                        <li class="nav-item"><a href="versiculos.html" class="nav-link">Vers√≠culos</a></li>
                        <li class="nav-item"><a href="10-mandamentos.html" class="nav-link">10 Mandamentos</a></li>
                        <li class="nav-item"><a href="inspiracao-diaria.html" class="nav-link">Inspira√ß√£o Di√°ria</a></li>
                    </ul>
                </div>
            </nav>

            <!-- Main Content -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-4" style="min-height: 80vh;">
                <h2>Vers√≠culo do Dia</h2>
                <p>Diariamente um vers√≠culo ou passagem b√≠blica para melhorar e inspirar o seu dia.</p>

                <!-- Busca de vers√≠culos -->
                <form id="search-form" class="mb-4 d-flex flex-wrap align-items-center" role="search" aria-label="Buscar vers√≠culos">
                    <input type="text" id="search-input" class="form-control me-2 mb-2" placeholder="Buscar por tema ou palavra-chave..." aria-label="Buscar por tema ou palavra-chave" style="max-width: 350px;">
                    <button type="submit" class="btn btn-info mb-2" aria-label="Buscar">Buscar</button>
                </form>
                <div id="search-results" class="mb-4"></div>

                <div id="main-content" class="d-flex justify-content-between align-items-start">
                    <!-- Container do Vers√≠culo -->
                    <div id="verse-box" class="me-3">
                        <h3>Vers√≠culo de Hoje</h3>
                        <p id="date"></p>
                        <p id="verse-text">Carregando vers√≠culo...</p>
                        <p id="verse-reference"></p>

                        <p class="mt-4">Gostou do vers√≠culo do dia?</p>

                        <p>Compartilhe e nos ajude a espalhar a palavra de Deus:</p>
                        <div class="d-flex gap-2 mb-3">
                            <a id="share-facebook" href="#" class="btn btn-outline-primary btn-sm" target="_blank">
                                <i class="fab fa-facebook-f"></i>
                            </a>
                            <a id="share-twitter" href="#" class="btn btn-outline-info btn-sm" target="_blank">
                                <i class="fab fa-twitter"></i>
                            </a>
                            <a id="share-whatsapp" href="#" class="btn btn-outline-success btn-sm" target="_blank">
                                <i class="fab fa-whatsapp"></i>
                            </a>
                        </div>

                        <p>Avalie o vers√≠culo:</p>
                        <div class="d-flex gap-2">
                            <button id="like-button" class="btn btn-success">
                                <i class="fas fa-thumbs-up"></i> Gostei
                            </button>
                            <button id="dislike-button" class="btn btn-danger">
                                <i class="fas fa-thumbs-down"></i> N√£o Gostei
                            </button>
                        </div>
                    </div>

                    <!-- Container de Inscri√ß√£o -->
                    <div id="email-container">
                        <h4>Receba o vers√≠culo di√°rio no seu e-mail!</h4>
                        <form id="subscription-form" autocomplete="email" aria-label="Formul√°rio de inscri√ß√£o para receber vers√≠culo di√°rio">
                            <input type="email" id="email-input" placeholder="Digite seu e-mail" required aria-required="true" aria-label="Digite seu e-mail" pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$">
                            <button type="submit" class="btn btn-primary mt-2" aria-label="Inscrever-se">Inscrever-se</button>
                        </form>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Se√ß√£o de Depoimentos -->
    <section id="depoimentos" class="container my-5">
        <h3 class="mb-4 text-center">Depoimentos de quem foi aben√ßoado</h3>
        <div class="row justify-content-center">
            <div class="col-md-4 mb-3">
                <div class="card h-100 shadow-sm">
                    <div class="card-body">
                        <p class="card-text">‚ÄúO vers√≠culo do dia sempre fala ao meu cora√ß√£o. Obrigado por esse projeto!‚Äù</p>
                        <footer class="blockquote-footer">Maria S.</footer>
                    </div>
                </div>
            </div>
            <div class="col-md-4 mb-3">
                <div class="card h-100 shadow-sm">
                    <div class="card-body">
                        <p class="card-text">‚ÄúReceber a Palavra logo cedo me d√° for√ßas para o dia. Deus aben√ßoe!‚Äù</p>
                        <footer class="blockquote-footer">Jo√£o P.</footer>
                    </div>
                </div>
            </div>
            <div class="col-md-4 mb-3">
                <div class="card h-100 shadow-sm">
                    <div class="card-body">
                        <p class="card-text">‚ÄúCompartilho sempre com minha fam√≠lia. √â uma b√™n√ß√£o di√°ria!‚Äù</p>
                        <footer class="blockquote-footer">Ana L.</footer>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Popup de Doa√ß√£o -->
    <div id="donation-popup" class="popup">
        <p>üíõ <strong>Ajude a espalhar a palavra de Deus!</strong><br>
            Sua doa√ß√£o nos ajuda a levar f√©, amor e inspira√ß√£o para milhares de pessoas.
            <strong>Contribua agora e fa√ßa parte desta miss√£o!</strong>
        </p>
        <div class="d-flex justify-content-between align-items-center">
            <button id="close-popup" class="btn btn-sm btn-danger">Fechar</button>
            <a href="doacao.html" class="btn btn-doacao btn-sm">Contribuir agora</a>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-light py-4 mt-4" role="contentinfo">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h4>B√≠blia Sagrada Online</h4>
                    <ul class="list-unstyled">
                        <li><a href="versiculos.html" class="nav-link">Vers√≠culos</a></li>
                        <li><a href="10-mandamentos.html" class="nav-link">10 Mandamentos</a></li>
                    </ul>
                </div>
                <div class="col-md-6 text-end">
                    <p>¬© 2025 Vers√≠culo do Dia - Todos os direitos reservados.</p>
                    <div class="social-media">
                        <a href="https://www.facebook.com/bibliaon.oficial" target="_blank" rel="noopener" aria-label="Facebook">Facebook</a> |
                        <a href="https://www.instagram.com/bibliaon.oficial/" target="_blank" rel="noopener" aria-label="Instagram">Instagram</a> |
                        <a href="https://www.youtube.com/@BibliaonOficial" target="_blank" rel="noopener" aria-label="YouTube">YouTube</a>
                    </div>
                </div>
            </div>
            <div class="row align-items-center mt-3">
                <div class="col-auto">
                    <label for="language-selector" class="mb-0 me-2">Idioma:</label>
                </div>
                <div class="col-auto">
                    <select id="language-selector" class="form-select form-select-sm w-auto d-inline-block">
                        <option value="pt">Portugu√™s</option>
                        <option value="en">English</option>
                        <option value="es">Espa√±ol</option>
                    </select>
                </div>
            </div>
        </div>
    </footer>

    <!-- Modal de Agradecimento -->
    <div class="modal fade" id="thankYouModal" tabindex="-1" aria-labelledby="thankYouModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="thankYouModalLabel">Obrigado pela sua inscri√ß√£o!</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
                </div>
                <div class="modal-body">
                    <p>Seu e-mail foi cadastrado com sucesso.<br>Voc√™ come√ßar√° a receber o vers√≠culo do dia em breve.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Fechar</button>
                </div>
            </div>
        </div>
    </div>

    <script src="src/js/script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const apiUrl = "https://raw.githubusercontent.com/thiagobodruk/biblia/refs/heads/master/json/nvi.json";
            const dateElement = document.getElementById("date");
            const verseTextElement = document.getElementById("verse-text");
            const verseReferenceElement = document.getElementById("verse-reference");

            // Atualizar data
            const today = new Date();
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            const formattedDate = today.toLocaleDateString("pt-BR", options);
            dateElement.textContent = formattedDate;

            // Verificar se o vers√≠culo do dia j√° est√° armazenado
            const storedData = JSON.parse(localStorage.getItem("verseOfTheDay"));
            const storedDate = storedData?.date;
            const isSameDay = storedDate === formattedDate;

            if (isSameDay) {
                // Usar vers√≠culo armazenado
                const { verse, reference } = storedData;
                verseTextElement.textContent = verse;
                verseReferenceElement.innerHTML = `<span class="verse-reference">${reference}</span>`;
            } else {
                // Buscar novo vers√≠culo e armazenar
                fetch(apiUrl)
                    .then(response => response.json())
                    .then(data => {
                        const bookIndex = Math.floor(Math.random() * data.length);
                        const book = data[bookIndex];
                        const chapterIndex = Math.floor(Math.random() * book.chapters.length);
                        const chapter = book.chapters[chapterIndex];
                        const verseIndex = Math.floor(Math.random() * chapter.length);
                        const verse = chapter[verseIndex];
                        const reference = `${book.name} ${chapterIndex + 1}:${verseIndex + 1}`;

                        // Atualizar a p√°gina
                        verseTextElement.textContent = verse;
                        verseReferenceElement.innerHTML = `<span class="verse-reference">${reference}</span>`;
                        // Salvar no localStorage
                        localStorage.setItem(
                            "verseOfTheDay",
                            JSON.stringify({ date: formattedDate, verse, reference })
                        );
                    })
                    .catch(error => {
                        verseTextElement.textContent = "Erro ao carregar o vers√≠culo.";
                        console.error("Erro ao buscar dados da API:", error);
                    });
            }

            // Fun√ß√£o para gerar o link de compartilhamento
            function gerarMensagemVersiculo() {
                const verseText = verseTextElement.textContent;
                const verseReference = verseReferenceElement.innerText;
                const dataHoje = formattedDate;

                // Formata√ß√£o da mensagem com Markdown para negrito
                const mensagem = `üïä VERS√çCULO DE HOJE\nüóì *${dataHoje}*\n\n"*${verseText}*"\n\n*${verseReference}*\n\nüåê Acesse o site para mais: https://gabriel-rocha.github.io/versiculo-do-dia/`;

                // Atualizar o link de compartilhamento
                const shareLink = document.getElementById("share-whatsapp");
                shareLink.href = `https://api.whatsapp.com/send?text=${encodeURIComponent(mensagem)}`;
            }

            gerarMensagemVersiculo();
        });
    </script>
</body>
</html>
